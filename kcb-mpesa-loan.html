<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KCB M-PESA Loan Calculator 2025 – Calculate Interest, Fees & Repayments | JazaLoan</title>
  <meta name="description" content="Free KCB M-PESA Loan Calculator for 2025. Instantly calculate your repayment amount, interest, and fees based on current KCB M-PESA terms in Kenya. Mobile-friendly, accurate, and easy to use.">
  <meta name="keywords" content="KCB M-PESA loan calculator, KCB M-PESA interest rate, KCB M-PESA loan repayment, KCB loan Kenya, KCB M-PESA 2025">
  <meta name="author" content="JazaLoan">

<link rel="icon" type="image/png" href="Images/favicon.png" sizes="32x32">
<link rel="icon" type="image/x-icon" href="Images/favicon.ico">
<link rel="icon" type="image/png" href="Images/favicon-96x96.png" sizes="96x96">
<link rel="apple-touch-icon" sizes="180x180" href="Images/apple-touch-icon.png">
<link rel="manifest" href="Images/site.webmanifest">
<link rel="icon" type="image/svg+xml" href="Images/favicon.svg">

  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 0;
    }
.fade-in {
      animation: fadeIn 0.8s ease-in-out;
    }
    /* ————— Sticky Shrinking Header ————— */
.site-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  transition: all 0.3s ease;
  background: white;
}
.site-header.shrink {
  padding: 2px 10px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
}
.site-header.shrink .logo {
  height: 60px !important;
  max-height: 60px !important;
}
.site-header.shrink .navbar a {
  font-size: 13px;
  padding: 4px 8px;
}

/* ————— Header / Logo / Nav ————— */
.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1000px;
  margin: auto;
  padding: 5px 15px;
}
.logo {
  height: 90px;
  transition: height 0.3s ease;
}
.navbar {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
  justify-content: center;
}
.navbar a {
  font-size: 15px;
  text-decoration: none;
  color: #2c3e50;
  font-weight: 600;
  padding: 8px 12px;
  position: relative;
}
.navbar a:hover { color: #007bff; }
.navbar a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 0%;
  height: 2px;
  background-color: #007bff;
  transition: width 0.3s ease;
}
.navbar a:hover::after { width: 100%; }

/* ————— Mobile Nav + Hamburger ————— */
.hamburger {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 24px;
  height: 18px;
  cursor: pointer;
  z-index: 1100;
}
.hamburger span {
  display: block;
  height: 3px;
  width: 100%;
  background-color: #2c3e50;
  border-radius: 2px;
  transition: all 0.3s ease;
}
.hamburger.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}
.hamburger.active span:nth-child(2) {
  opacity: 0;
}
.hamburger.active span:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -5px);
}
.mobile-nav {
  position: fixed;
  top: 0;
  right: -100%;
  height: 100%;
  width: 250px;
  background: #fff;
  display: flex;
  flex-direction: column;
  padding: 60px 20px 20px;
  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);
  transition: right 0.3s ease;
  z-index: 999;
}
.mobile-nav.show {
  right: 0;
}
.mobile-nav a {
  padding: 12px 0;
  color: #2c3e50;
  text-decoration: none;
  font-weight: 600;
  font-size: 16px;
}
.mobile-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  z-index: 998;
}
.mobile-overlay.show {
  display: block;
}
@media (max-width: 768px) {
  .hamburger { display: flex; }
  .desktop-only { display: none !important; }
}
/* Ensure header layout keeps logo left + hamburger right */
  .header-content {
    display: flex;
    justify-content: space-between; /* Logo on left, hamburger on right */
    align-items: center;
  }
/* ————— Mobile-only Share (Bottom) ————— */
.mobile-only-share {
  display: none;
}
.mobile-only-share a {
  width: 32px;
  height: 32px;
  margin: 0 6px;
  border-radius: 50%;
  background-size: 60% 60%;
  background-repeat: no-repeat;
  background-position: center;
  display: inline-block;
  transition: transform 0.3s ease;
}
.mobile-share-title {
  text-align: center;
  font-family: 'Playfair Display', serif;
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 10px;
  display: none;
}
@media (max-width: 768px) {
  .floating-share-icons { display: none; }
  .mobile-only-share {
    display: flex;
    justify-content: center;
    margin: 20px auto;
  }
  .mobile-share-title {
    display: block;
  }
  .mobile-only-share a:hover {
    animation: bounce 0.4s ease;
  }
  @keyframes bounce {
    0% { transform: scale(1); }
    30% { transform: scale(1.2); }
    50% { transform: scale(0.9); }
    70% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }
  .hamburger { display: flex; }
  .desktop-only { display: none !important; }
}

#backToTop {
  position: fixed;
  bottom: 40px;
  right: 20px;
  width: 40px;
  height: 40px;
  background-color: #1abc9c;
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  font-weight: bold;
  line-height: 40px;
  text-align: center;
  cursor: pointer;
  display: none;
  z-index: 9999;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: transform 0.3s ease, background-color 0.3s ease;
}
#backToTop:hover {
  background-color: #148f77;
  transform: scale(1.15);
}
.site-header {
  height: 100px; /* or however tall it is initially */
  transition: all 0.3s ease;
}

.site-header.shrink {
  height: 70px;
  padding: 2px 10px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
}

    .container {
      max-width: 800px;
      margin: 30px auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1, h2 {
      text-align: center;
      color: #2c3e50;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      background: #27ae60;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 5px;
      margin-top: 20px;
      width: 100%;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s ease, background-color 0.3s ease;
    }
    button:hover {
      background-color: #1e8449;
      transform: scale(1.03);
    }
    .results {
      margin-top: 25px;
      padding: 15px;
      background: #e9f8ef;
      border-left: 5px solid #0b5e2b;
      border-radius: 8px;
    }
    
    .affiliate, .about {
      max-width: 900px;
      margin: 40px auto;
      background: #fff;
      padding: 25px 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .about h2, .affiliate h2 {
      color: #0b5e2b;
    }
    footer {
      background-color: #03457b;
      padding: 10px 0;
      font-size: 13px;
      text-align: center;
      color: white;
    }
    footer a {
      color: white;
      text-decoration: none;
      margin: 0 5px;
    }
    footer a:hover {
      text-decoration: underline;
    }

.affiliate details {
  scroll-margin-top: 100px;
  transition: all 0.3s ease;
}

  details {
    margin-bottom: 20px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background: #fafafa;
    padding: 10px 15px;
  }
  summary {
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    padding: 8px 0;
    color: #03457b;
  }
  summary:hover {
    color: #007bff;
  }
  details[open] summary {
    border-bottom: 1px solid #ccc;
    margin-bottom: 10px;
  }
  
  @keyframes fadeInAnswer {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.affiliate details[open] > *:not(summary) {
  animation: fadeInAnswer 0.35s ease-in-out;
}

.intro-text {
  background: #f9f9f9;
  padding: 15px 20px;
  border-left: 6px solid transparent;
  border-image: linear-gradient(to bottom, #0b5e2b, #03457b) 1; /* Green → Blue */
  font-size: 1.05em;
  line-height: 1.6;
  border-radius: 6px;
  margin-bottom: 20px;
}
.mshwari-btn {
  display: inline-block;
  background-color: #007bff; /* Blue */
  color: white;
  padding: 12px 20px;
  border-radius: 5px;
  text-decoration: none;
  font-size: 16px;
  font-weight: 600;
  transition: transform 0.2s ease, background-color 0.3s ease;
}
.mshwari-btn:hover {
  background-color: #0056b3; /* Darker blue on hover */
  transform: scale(1.03);
}
  .small-input {
    max-width: 800px;
    width: 100%;
    box-sizing: border-box;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 6px;
  }

  label {
    display: block;
    margin-top: 12px;
    font-weight: bold;
  }
   @media (max-width: 600px) {
    .small-input {
      max-width: 360px;
    }
  }
  </style>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
<header class="site-header fade-in">
    <div id="overlay" class="mobile-overlay"></div>
    <div class="header-content">
      <img src="Images/logo.png" alt="JazaLoan Logo" class="logo">
     <div id="hamburger" class="hamburger">
  <span></span>
  <span></span>
  <span></span>
</div>

 <nav class="navbar desktop-only" id="mainNav">
    <a href="index.html">Home</a>
   <a href="index.html#paye-section">PAYE Calculator</a>
    <a href="mshwari-calculator.html">Mshwari Calculator</a>
    <a href="vat-calculator.html">VAT Calculator</a>
    <a href="budgeting-calculator.html">Budgeting Calculator</a>
</nav>

<nav class="mobile-nav" id="mobileNav">
   <a href="index.html">Home</a>
    <a href="index.html#paye-section">PAYE Calculator</a>
    <a href="mshwari-calculator.html">Mshwari Calculator</a>
    <a href="vat-calculator.html">VAT Calculator</a>
    <a href="budgeting-calculator.html">Budgeting Calculator</a>
    <a href="compare-loans.html">Compare Loans</a>
</nav>
<div id="overlay" class="mobile-overlay"></div>
</header>


<div class="container">
 <main class="container" style="padding: 40px 20px;">
  <h1>KCB M-PESA Loan Calculator (2025)</h1>
  <p class="intro-text">
    Easily calculate your KCB M-PESA loan repayments for 2025. This free tool shows your total repayment, 
    interest, and fees instantly based on the latest KCB M-PESA terms in Kenya. 
    Mobile-friendly, accurate, and designed to help you plan better.
  </p>
</main>

<label for="loanAmount">Loan Amount (Ksh):</label>
<input type="text" id="loanAmount" class="small-input" placeholder="e.g. 5,000" oninput="formatNumberInput(this)" />

<label for="appDate">Application Date:</label>
<input type="date" id="appDate" class="small-input" />

<label for="feeRate">Facility Fee Rate (%):</label>
<input type="text" id="feeRate" class="small-input" value="8.88" readonly autocomplete="off" />

<p>
  Note: The default facility fee of <strong>8.88%</strong> is the official KCB M-PESA rate. 
  Some users may see <strong>8.93%</strong> when applying via the M-PESA app due to system rounding. 
  Both rates are applied over a 30-day repayment period.
</p>

<button id="calculateBtn" onclick="calcKCB()">Calculate</button>

<div id="kcbResult" style="display:none; margin-top:20px;"></div>

<div id="downloadSection" style="display:none; margin-top:10px;">
  <button onclick="downloadKCB()">Download</button>
  <button onclick="resetKCB()">Reset</button>
</div>

<!-- Mshwari Calculator Link (Initially Hidden) -->
<div id="mshwariLink" style="display:none; margin-top:15px; text-align:center; font-size: 15px; color: #2c3e50;">
  <p>
    Interested in checking your <strong>Mshwari loan</strong>? 
    <a href="mshwari-calculator.html" style="color:#007bff; text-decoration:underline;">Try the Mshwari Calculator here</a>.
  </p>
</div>
</div>

<section class="affiliate">
  <h2>Everything You Should Know About KCB M-PESA Loans in Kenya</h2>

  <details>
    <summary>What Is KCB M-PESA?</summary>
    <p>KCB M-PESA is a mobile loan service available to Safaricom subscribers through the M-PESA menu or app. It allows you to borrow instant credit starting from <strong>Ksh 1,000</strong> up to your approved limit. The money is first sent to your KCB M-PESA account, and you can transfer it to your main M-PESA wallet at no extra cost.</p>
  </details>

  <details>
    <summary>Loan Features</summary>
    <ul>
      <li>Borrow from <strong>Ksh 1,000</strong> and above, depending on your limit</li>
      <li>Funds disbursed instantly to your KCB M-PESA account</li>
      <li>Free transfers between KCB M-PESA and your M-PESA wallet</li>
      <li>Repayment period: <strong>30 days</strong></li>
      <li>You can take multiple loans as long as you are within your limit</li>
    </ul>
  </details>

  <details>
    <summary>Rates and Fees</summary>
    <p>The KCB M-PESA loan attracts a facility fee of <strong>8.88%</strong> of the amount borrowed according to KCB’s official website. However, in practice, when applying through the M-PESA app or USSD (*844#), the system shows an effective rate of <strong>8.93%</strong>. The difference is minimal and comes from rounding in Safaricom’s platform.</p>
    <p>Example: If you borrow Ksh 10,000, the official 8.88% fee would be Ksh 888, while the app may display Ksh 893. In both cases, the total repayment is due within 30 days.</p>
  </details>

  <details>
    <summary>How to Apply</summary>
    <ol>
      <li>Go to the <strong>M-PESA menu</strong> on your phone</li>
      <li>Select <strong>Loans & Savings</strong></li>
      <li>Choose <strong>KCB M-PESA</strong></li>
      <li>Select <strong>Loans → Request Loan</strong></li>
      <li>Enter the amount and your <strong>M-PESA PIN</strong></li>
    </ol>
    <p>The loan is credited to your KCB M-PESA account. You can then move the money to M-PESA at no cost.</p>
  </details>

  <details>
    <summary>Eligibility</summary>
    <ul>
      <li>Active Safaricom line for at least 6 months</li>
      <li>Regular use of M-PESA services</li>
      <li>Good loan repayment history</li>
      <li>Active savings with KCB M-PESA can improve your limit</li>
    </ul>
  </details>

  <details>
    <summary>Tips to Increase Your Limit</summary>
    <ul>
      <li>Repay loans on or before the due date</li>
      <li>Save frequently using KCB M-PESA</li>
      <li>Use M-PESA actively for transactions</li>
    </ul>
  </details>

  <details>
    <summary>Why Use Our KCB M-PESA Loan Calculator?</summary>
    <ul>
      <li>Quickly estimate your repayment at the official 8.88% rate</li>
      <li>See your net disbursed amount instantly</li>
      <li>Works seamlessly on mobile devices</li>
      <li>Helps you plan your loan before applying</li>
    </ul>
    <p><a href="compare-loans.html">Compare KCB M-PESA with other mobile loans in Kenya</a></p>
  </details>

  <p class="disclaimer"><em>Disclaimer: This information is provided for educational purposes only. KCB officially lists the facility fee at 8.88%, but some users may see 8.93% when applying via M-PESA. Actual rates, fees, and terms are subject to change by KCB Bank and Safaricom. Always confirm the latest details directly from official channels before applying.</em></p>

  <div style="text-align: center; margin-top: 30px;">
  <p><strong>Like our calculators? Share JazaLoan with others:</strong></p>
  <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
    <a href="https://wa.me/?text=Try%20this%20free%20Kenyan%20loan%20and%20PAYE%20calculator:%20https://jazaloan.co.ke" target="_blank" title="Share on WhatsApp">
      <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/whatsapp.svg" alt="WhatsApp" width="28" height="28" style="vertical-align: middle;" />
    </a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=https://jazaloan.co.ke" target="_blank" title="Share on Facebook">
      <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/facebook.svg" alt="Facebook" width="28" height="28" style="vertical-align: middle;" />
    </a>
    <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://jazaloan.co.ke" target="_blank" title="Share on LinkedIn">
      <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/linkedin.svg" alt="LinkedIn" width="28" height="28" style="vertical-align: middle;" />
    </a>
    <a href="https://twitter.com/intent/tweet?text=Try%20this%20free%20Kenyan%20loan%20and%20PAYE%20calculator&url=https://jazaloan.co.ke" target="_blank" title="Share on X (Twitter)">
      <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/x.svg" alt="X" width="28" height="28" style="vertical-align: middle;" />
    </a>
  </div>
</div>

</section>
 <footer>
    <div class="footer-content">
      <span><strong>JazaLoan</strong></span>
      <span>|</span>
      <span>© 2025 JazaLoan. All rights reserved.</span>
      <span>|</span>
      <span>📧 <a href="mailto:mburuthus@gmail.com">support@jazaloan.co.ke</a></span>
      <span>|</span>
      <span>💬 <a href="https://wa.me/254742592477" target="_blank">Chat on WhatsApp</a></span>
    </div>
  </footer>
<script>

// Formats input with Kenya-style commas
function formatNumberInput(input) {
  let value = input.value.replace(/,/g, '').replace(/[^\d]/g, '');
  if (value) {
    input.value = parseInt(value, 10).toLocaleString('en-KE');
  } else {
    input.value = '';
  }
}

// Formats input with Kenya-style commas
function formatNumberInput(input) {
  let value = input.value.replace(/,/g, '').replace(/[^\d]/g, '');
  if (value) {
    input.value = parseInt(value, 10).toLocaleString('en-KE');
  } else {
    input.value = '';
  }
}

function calcKCB() {
  const rawValue = document.getElementById("loanAmount").value.replace(/,/g, "");
  const amt = parseFloat(rawValue);
  const dt = document.getElementById("appDate").value;

  if (!(amt > 0) || !dt) {
    alert("Please enter a valid loan amount and application date.");
    return;
  }

  const rateOfficial = 8.88 / 100;
  const facilityFee = amt * rateOfficial;
  const totalRepayment = amt + facilityFee;

  const appDate = new Date(dt);
  const dueDate = new Date(appDate);
  dueDate.setDate(dueDate.getDate() + 30);
  const dueStr = dueDate.toLocaleDateString('en-KE', { year: 'numeric', month: 'long', day: 'numeric' });

  const breakdown = `
    <h3 id="loanBreakdownTitle">Loan Breakdown</h3>
    <div style="margin-top:15px; padding:15px; border:1px solid #cce5ff; border-radius:8px; background:#e8f4ff;">
      <p><strong>Facility Fee (8.88%):</strong> Ksh ${facilityFee.toLocaleString()}</p>
      <p><strong>Total Repayment Amount:</strong> Ksh ${totalRepayment.toLocaleString()}</p>
      <p><strong>Due Date:</strong> ${dueStr}</p>
      <div style="margin-top:10px; font-size:14px; color:#555;">
        <em>Note: The official KCB M-PESA facility fee is <strong>8.88%</strong>. 
        In the M-PESA app you may occasionally see <strong>8.93%</strong> due to rounding differences.</em>
      </div>
    </div>
  `;

  const resultBox = document.getElementById("kcbResult");
  resultBox.innerHTML = breakdown;
  resultBox.style.display = 'block';

  document.getElementById("downloadSection").style.display = 'block';

  const loanBreakdownTitle = document.getElementById("loanBreakdownTitle");
  const yOffset = -100;
  const y = loanBreakdownTitle.getBoundingClientRect().top + window.pageYOffset + yOffset;
  window.scrollTo({ top: y, behavior: 'smooth' });

  document.getElementById("mshwariLink").style.display = 'block';
}

function resetKCB() {
  // Clear inputs
  document.getElementById("loanAmount").value = '';
  document.getElementById("appDate").value = '';

  // Hide results and download section
  document.getElementById("kcbResult").style.display = 'none';
  document.getElementById("downloadSection").style.display = 'none';

  // Hide Mshwari link
  document.getElementById("mshwariLink").style.display = 'none';

  // Smooth scroll to the first input after DOM updates
  setTimeout(() => {
    const firstInput = document.getElementById("loanAmount");
    firstInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }, 50); // Slight delay ensures layout updates before scrolling
}

function downloadKCB() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({ unit: 'pt', format: 'a4' });

  const amt = parseFloat(document.getElementById("loanAmount").value.replace(/,/g, ""));
  const dt = document.getElementById("appDate").value;
  const rate = parseFloat(document.getElementById("feeRate").value) / 100; 

  const facilityFee = amt * rate;
  const exciseDuty = amt * 0.015;
  const disbursed = amt - exciseDuty;
  const totalRepayment = amt + facilityFee;

  const dueDate = new Date(dt);
  dueDate.setDate(dueDate.getDate() + 30);
  const dueStr = dueDate.toLocaleDateString('en-KE', { year: 'numeric', month: 'long', day: 'numeric' });

  // Title
  doc.setFontSize(18);
  doc.setFont('helvetica', 'bold');
  doc.text("KCB M-PESA Loan Report", 300, 50, { align: 'center' });

  // Summary Table
  doc.setFontSize(12);
  doc.setFont('helvetica', 'normal');
  doc.text("Loan Summary", 40, 90);

  doc.autoTable({
    startY: 100,
    theme: 'grid',
    head: [['Description', 'Amount (Ksh)']],
    body: [
      ['Loan Amount', amt.toLocaleString()],
      ['Facility Fee (8.88%)', facilityFee.toLocaleString()],
      ['Excise Duty (1.5%)', exciseDuty.toLocaleString()],
      ['Amount Disbursed', disbursed.toLocaleString()],
      ['Total Repayment', totalRepayment.toLocaleString()],
      ['Due Date', dueStr]
    ],
    styles: { cellPadding: 4, fontSize: 11 },
    headStyles: { fillColor: [7, 94, 43], textColor: 255, halign: 'center' },
    bodyStyles: { halign: 'right' },
    didParseCell: function (data) {
      if (data.row.index === 4) {
        data.cell.styles.fontStyle = 'bold';
        data.cell.styles.fillColor = [220, 235, 245];
      }
    }
  });

  // Add a professional summary below the table
  const finalY = doc.lastAutoTable.finalY + 20; // position below table
  doc.setFontSize(12);
  doc.setFont('helvetica', 'bold');
  doc.text("Loan Summary Highlights:", 40, finalY);

  doc.setFont('helvetica', 'normal');
  doc.setFontSize(11);
  doc.text(`• Total Amount to Repay: Ksh ${totalRepayment.toLocaleString()}`, 50, finalY + 20);
  doc.text(`• Amount You Receive: Ksh ${disbursed.toLocaleString()}`, 50, finalY + 35);
  doc.text(`• Repayment Due Date: ${dueStr}`, 50, finalY + 50);

  // Footer
  const pageCount = doc.getNumberOfPages();
  for (let i = 1; i <= pageCount; i++) {
    doc.setPage(i);
    doc.setFontSize(10);
    doc.setTextColor(100);
    doc.text(`Created by JazaLoan`, 40, 800);
    doc.text(`Page ${i} of ${pageCount}`, 500, 800);
  }

  doc.save(`KCB-MPESA-Loan-${amt.toLocaleString()}.pdf`);
}

</script>

<script>
  // Mobile nav toggle
 const hamburger = document.getElementById("hamburger");
const mobileNav = document.getElementById("mobileNav");
const overlay = document.getElementById("overlay");

const toggleMobileMenu = () => {
  hamburger.classList.toggle("active");
  mobileNav.classList.toggle("show");
  overlay.classList.toggle("show");
};

hamburger.addEventListener("click", toggleMobileMenu);
overlay.addEventListener("click", toggleMobileMenu);
</script>

<script>
  document.querySelectorAll("section.affiliate details summary").forEach(summary => {
    summary.addEventListener("click", function (e) {
      const current = this.parentElement;
      const allDetails = document.querySelectorAll("section.affiliate details");

      allDetails.forEach(detail => {
        if (detail !== current) detail.removeAttribute("open");
      });

      setTimeout(() => {
  current.scrollIntoView({ behavior: "smooth", block: "start" });
}, 250);
    });
  });
</script>
<script>
   // Shrink header on scroll
  window.addEventListener("scroll", () => {
    const header = document.querySelector(".site-header");
    if (window.scrollY > 50) {
      header.classList.add("shrink");
    } else {
      header.classList.remove("shrink");
    }
  });
  
</script>
<button id="backToTop" title="Back to Top">⬆</button>
  <script>
    const backToTopBtn = document.getElementById("backToTop");
    window.addEventListener("scroll", () => {
      if (document.documentElement.scrollTop > 300 || document.body.scrollTop > 300) {
        backToTopBtn.style.display = "block";
      } else {
        backToTopBtn.style.display = "none";
      }
    });

    backToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
  
</body>
</html>


