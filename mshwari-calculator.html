<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>M‑Shwari Loan Calculator - JazaLoan Kenya</title>
  <meta name="description" content="Use the M‑Shwari Loan Calculator to instantly estimate disbursement, facility fees, excise duty, and repayment due date. Trusted by Kenyan borrowers.">
  <!-- Open Graph -->
<meta property="og:title" content="M‑Shwari Loan Calculator Kenya" />
<meta property="og:description" content="Accurate M‑Shwari loan breakdown for Kenyan borrowers. Calculate fees, disbursed amount, and due date easily." />
<meta property="og:url" content="https://jazaloancalculator.co.ke/mshwari-loan-calculator" />
<meta property="og:type" content="website" />

<!-- Twitter Card -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="M‑Shwari Loan Calculator Kenya" />
<meta name="twitter:description" content="Free Kenyan M‑Shwari loan calculator. Instantly view disbursed amount, facility fees, excise duty and due date." />
<link rel="icon" type="image/png" href="Images/favicon.png" sizes="32x32">
<link rel="icon" type="image/x-icon" href="Images/favicon.ico">
<link rel="icon" type="image/png" href="Images/favicon-96x96.png" sizes="96x96">
<link rel="apple-touch-icon" sizes="180x180" href="Images/apple-touch-icon.png">
<link rel="manifest" href="Images/site.webmanifest">
<link rel="icon" type="image/svg+xml" href="Images/favicon.svg">
  
  <style>
  
html { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
*, *::before, *::after { box-sizing: border-box; }                   
img, svg, video { max-width: 100%; height: auto; display: block; }    

.header-content { width: 100%; }
.container { width: 100%; } 

    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 0;
    }
.site-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  transition: all 0.3s ease;
  background: white;
}
.site-header.shrink {
  padding: 2px 10px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
}
.site-header.shrink .logo {
  height: 60px !important;
  max-height: 60px !important;
}
.site-header.shrink .navbar a {
  font-size: 13px;
  padding: 4px 8px;
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1000px;
  margin: auto;
  padding: 5px 15px;
}
.logo {
  height: 90px;
  transition: height 0.3s ease;
}
.navbar {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
  justify-content: center;
}
.navbar a {
  font-size: 15px;
  text-decoration: none;
  color: #2c3e50;
  font-weight: 600;
  padding: 8px 12px;
  position: relative;
}
.navbar a:hover { color: #007bff; }
.navbar a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 0%;
  height: 2px;
  background-color: #007bff;
  transition: width 0.3s ease;
}
.navbar a:hover::after { width: 100%; }
.hamburger {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 24px;
  height: 18px;
  cursor: pointer;
  z-index: 1100;
}
.hamburger span {
  display: block;
  height: 3px;
  width: 100%;
  background-color: #2c3e50;
  border-radius: 2px;
  transition: all 0.3s ease;
}
.hamburger.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}
.hamburger.active span:nth-child(2) {
  opacity: 0;
}
.hamburger.active span:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -5px);
}
.mobile-nav {
  position: fixed;
  top: 0;
  right: 0;
  height: 100%;
  width: 250px;
  background: #fff;
  display: flex;
  flex-direction: column;
  padding: 60px 20px 20px;
  box-shadow: -2px 0 8px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
  z-index: 999;
  transform: translateX(100%);  
}
.mobile-nav.show {
  transform: translateX(0);  
}

.mobile-nav a {
  padding: 12px 0;
  color: #2c3e50;
  text-decoration: none;
  font-weight: 600;
  font-size: 16px;
}
.mobile-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  z-index: 998;
}
.mobile-overlay.show {
  display: block;
}

@media (max-width: 768px) {
  .hamburger { display: flex; }
  .desktop-only, 
  .navbar { display: none; }

  .header-content {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    width: 100%;
  }
  .logo {
    margin-left: 0;
    display: block;
  }
}

.site-header {
  height: 100px; /* or however tall it is initially */
  transition: all 0.3s ease;
}

.site-header.shrink {
  height: 70px;
  padding: 2px 10px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
}
/* ————— Mobile-only Share (Bottom) ————— */
.mobile-only-share {
  display: none;
}
.mobile-only-share a {
  width: 32px;
  height: 32px;
  margin: 0 6px;
  border-radius: 50%;
  background-size: 60% 60%;
  background-repeat: no-repeat;
  background-position: center;
  display: inline-block;
  transition: transform 0.3s ease;
}
.mobile-share-title {
  text-align: center;
  font-family: 'Playfair Display', serif;
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 10px;
  display: none;
}
@media (max-width: 768px) {
  .floating-share-icons { display: none; }
  .mobile-only-share {
    display: flex;
    justify-content: center;
    margin: 20px auto;
  }
  .mobile-share-title {
    display: block;
  }
  .mobile-only-share a:hover {
    animation: bounce 0.4s ease;
  }
  @keyframes bounce {
    0% { transform: scale(1); }
    30% { transform: scale(1.2); }
    50% { transform: scale(0.9); }
    70% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }
  .hamburger { display: flex; }
  .desktop-only { display: none !important; }
}

    .container {
  max-width: 600px;
  margin: 0 auto 30px auto; /* top=0, bottom=30px */
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

    h1, h2 {
      text-align: center;
      color: #2c3e50;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      background: #27ae60;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 5px;
      margin-top: 20px;
      width: 100%;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s ease, background-color 0.3s ease;
    }
    button:hover {
      background-color: #1e8449;
      transform: scale(1.03);
    }
    .results {
      margin-top: 25px;
      padding: 15px;
      background: #e9f8ef;
      border-left: 5px solid #0b5e2b;
      border-radius: 8px;
    }
    
    .affiliate, .about {
      max-width: 800px;
      margin: 40px auto;
      background: #fff;
      padding: 25px 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .about h2, .affiliate h2 {
      color: #0b5e2b;
    }
    footer {
      background-color: #03457b;
      padding: 10px 0;
      font-size: 13px;
      text-align: center;
      color: white;
    }
    footer a {
      color: white;
      text-decoration: none;
      margin: 0 5px;
    }
    footer a:hover {
      text-decoration: underline;
    }

.affiliate details {
  scroll-margin-top: 100px;
  transition: all 0.3s ease;
}

  details {
    margin-bottom: 20px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background: #fafafa;
    padding: 10px 15px;
  }
  summary {
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    padding: 8px 0;
    color: #03457b;
  }
  summary:hover {
    color: #007bff;
  }
  details[open] summary {
    border-bottom: 1px solid #ccc;
    margin-bottom: 10px;
  }

  
  @keyframes fadeInAnswer {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.affiliate details[open] > *:not(summary) {
  animation: fadeInAnswer 0.35s ease-in-out;
}
@keyframes fadeInFAQ {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

.faq-block {
  animation: fadeInFAQ 0.7s ease-out;
  animation-fill-mode: both;
}
.faq-block {
  animation: fadeInFAQ 0.5s ease-out;
  animation-fill-mode: both;
  scroll-margin-top: 100px;
}
.results-animate {
  animation: fadeInResult 0.5s ease-in-out;
}

@keyframes fadeInResult {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

  details {
    margin-bottom: 20px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background: #fafafa;
    padding: 10px 15px;
  }
  summary {
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    padding: 8px 0;
    color: #03457b;
  }
  summary:hover {
    color: #007bff;
  }
  details[open] summary {
    border-bottom: 1px solid #ccc;
    margin-bottom: 10px;
  }
  
.cta-button {
  background-color: #0b5e2b;
  color: white;
  padding: 12px 20px;
  border-radius: 6px;
  text-decoration: none;
  font-weight: 600;
  display: inline-block;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.cta-button:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(11, 94, 43, 0.2);
}

/* REMOVE PAGE FADE-IN EFFECT */
body {
  opacity: 1 !important;
  transition: none !important;
}

body.fade-in {
  opacity: 1 !important;
}

.results-grid {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
}

.result-card {
  flex: 1;
  background: #f9f9f9;
  padding: 20px;
  text-align: center;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.result-card h3 {
  font-size: 1.2em;
  margin-bottom: 10px;
  color: #2c3e50;
}

.result-card p {
  font-size: 1.6em;
  font-weight: bold;
  color: #27ae60;
}

.details-table table {
  width: 100%;
  border-collapse: collapse;
}

.details-table td {
  padding: 10px;
  border-bottom: 1px solid #ddd;
}

.details-table td:first-child {
  font-weight: 600;
}

.explanation {
  margin-top: 15px;
  padding: 15px;
  background: #eef5ff;
  border-left: 4px solid #2980b9;
  font-size: 0.95em;
  line-height: 1.4em;
}

.results-actions {
  margin-top: 20px;
  display: flex;
  gap: 10px;
}

#backToTop {
  position: fixed;
  bottom: 40px;
  right: 20px;
  width: 40px;
  height: 40px;
  background-color: #1abc9c;
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  font-weight: bold;
  line-height: 40px;
  text-align: center;
  cursor: pointer;
  display: none;
  z-index: 9999;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: transform 0.3s ease, background-color 0.3s ease;
}
#backToTop:hover {
  background-color: #148f77;
  transform: scale(1.15);
}
.intro-text {
  background: #f9f9f9;
  padding: 15px 20px;
  border-left: 6px solid transparent;
  border-image: linear-gradient(to bottom, #0b5e2b, #03457b) 1; /* Green → Blue */
  font-size: 1.05em;
  line-height: 1.6;
  border-radius: 6px;
  margin-bottom: 20px;
}

  </style>
  <link rel="canonical" href="https://jazaloan.co.ke/mshwari-loan-calculator" />
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

  <header class="site-header fade-in">
    <div class="header-content">
      <img src="Images/logo.png" alt="JazaLoan Logo" class="logo">
     <div id="hamburger" class="hamburger">
  <span></span>
  <span></span>
  <span></span>
</div>

    <!-- Desktop Nav -->
    <nav class="navbar desktop-only" id="mainNav">
      <a href="index.html">Home</a>
      <a href="index.html#paye-section">PAYE Calculator</a>
      <a href="kcb-mpesa-loan.html">KCB Mpesa Calculator</a>
      <a href="budgeting-calculator.html">Budgeting Calculator</a>
      <a href="compare-loans.html">Compare Loans</a>
    </nav>
  </div>

  <!-- Mobile Nav -->
  <nav class="mobile-nav" id="mobileNav">
    <a href="index.html">Home</a>
    <a href="index.html#paye-section">PAYE Calculator</a>
    <a href="kcb-mpesa-loan.html">KCB Mpesa Calculator</a>
    <a href="budgeting-calculator.html">Budgeting Calculator</a>
    <a href="compare-loans.html">Compare Loans</a>
  </nav>
  <div id="overlay" class="mobile-overlay"></div>
</header>


  <section id="mshwari" style="padding: 40px 20px; background-color: #f9f9f9;">
 <main class="container" style="padding: 40px 20px;">
  <h1>M-Shwari Loan Calculator (2025)</h1>
  <p class="intro-text">
    Calculate your M-Shwari loan fees, excise duty, and repayment date instantly for 2025. 
    This free online calculator uses the latest M-Shwari terms in Kenya to give you accurate results, 
    helping you plan and repay on time. Mobile-friendly, fast, and easy to use.
  </p>
  <h2 style="text-align: center; color: #0b5e2b; margin-bottom: 15px;">Enter Your M‑Shwari Loan Details</h2>

  <div style="display: flex; flex-direction: column; gap: 15px;">
    <div>
      <label for="mshwariAmount">Loan Amount (Ksh):</label>
      <input
  type="text"
  id="mshwariAmount"
  class="input"
  placeholder="e.g. 5,000"
  oninput="formatAmountInput(this)"
/>

    </div>
    <div>
      <label for="loanDate">Application Date:</label>
      <input type="date" id="loanDate" />
    </div>

      <button onclick="calculateMshwariLoan()" class="btn">Calculate</button>
  </div>


<div id="mshwariResults" style="display:none; margin-top: 20px; scroll-margin-top: 100px;">
  <h3 style="color: #0b5e2b; font-size: 22px; margin-bottom: 15px;">
    Loan Repayment Breakdown
  </h3>
  <p>
    This breakdown includes your disbursed loan amount, facility fee, excise duty, and exact due date—
    calculated in line with <strong>M-Shwari’s current terms</strong>.
  </p>

  <p>M-PESA Deposited Amount: <strong>Ksh <span id="mpesaDeposited"></span></strong></p>
  <p>Facility Fee (7.5%): <strong>Ksh <span id="facilityFee"></span></strong></p>
  <p>Excise Duty on Fee (15%): <strong>Ksh <span id="exciseDuty"></span></strong></p>
  <p>Total Repayment Amount: <strong>Ksh <span id="repaymentTotal"></span></strong></p>
  <p>M-Shwari Due Date (30 Days): <strong><span id="dueDate"></span></strong></p>

  <div style="text-align: center; margin-top: 10px;">
    <button 
      onclick="downloadMshwariResults()" 
      id="downloadBtn" 
      style="display: none; background-color: #03457b; color: white; padding: 10px 20px; font-weight: bold; border: none; border-radius: 5px; cursor: pointer; transition: transform 0.3s ease;">
      ⬇️ Download Breakdown (PDF)
    </button>

  <div style="text-align: center; margin-top: 20px;">
    <button 
      onclick="resetMshwariCalculator()" 
      id="resetBtn" 
      style="display: none; background-color: #038531; color: white; padding: 10px 20px; font-weight: bold; border: none; border-radius: 5px; cursor: pointer; transition: transform 0.3s ease;">
      🔄 Reset & Start Again
    </button>
  </div>
  </main>

    <div style="margin: 40px auto; max-width: 728px; text-align: center; border: 1px dashed #ccc; padding: 20px;">
      <em>Ad or affiliate link </em>
    </div>

   <div class="about" style="background-color: #ffffff; color: #1a202c; border: 1px solid #e2e8f0; border-radius: 12px; padding: 30px; max-width: 900px; margin: 0 auto; box-shadow: 0 2px 8px rgba(0,0,0,0.03);">
  
  <h2 style="color: #0b5e2b; font-size: 26px; margin-bottom: 15px;">
    Estimate Your M-Shwari Loan in Seconds
  </h2>

  <p style="font-size: 16px; line-height: 1.7; margin-bottom: 15px;">
    The <strong>M-Shwari Loan Calculator</strong> gives you an instant, transparent breakdown of your loan cost before you apply.  
    It accurately factors in the <strong>7.5% facility fee</strong> and the <strong>15% excise duty</strong> on that fee—so you’ll know exactly:
  </p>

  <ul style="margin-bottom: 20px; padding-left: 20px; line-height: 1.6;">
    <li>✅ How much will be credited to your M-PESA account after deductions</li>
    <li>✅ Your total repayment amount after 30 days</li>
    <li>✅ The true cost of borrowing before you commit</li>
  </ul>

  <p style="background-color: #f9fafb; padding: 15px; border-radius: 8px; font-size: 15px; color: #2d3748; margin-bottom: 20px;">
    <strong>Example:</strong> Borrowing <strong>Ksh 5,000</strong> will result in a net deposit of about  
    <strong>Ksh 4,568.75</strong> after deductions, with a repayment of <strong>Ksh 5,000</strong> due in 30 days.
  </p>

  <h3 style="color: #0b5e2b; margin-top: 20px;">Why Kenyan Borrowers Love This Calculator</h3>
  <ul style="padding-left: 20px; line-height: 1.6; margin-bottom: 20px;">
    <li>📊 Real-time, accurate loan estimates</li>
    <li>📱 Designed specifically for Kenyan M-PESA users</li>
    <li>💡 Helps you plan repayments and avoid hidden costs</li>
    <li>🔍 100% free, fast, and easy to use—no sign-up required</li>
  </ul>

  <p style="font-size: 15px; line-height: 1.6;">
    Make your money work smarter.
    <a href="budgeting-calculator.html" style="color: #3182ce; font-weight: 600; text-decoration: none;">Try our Budgeting Calculator →</a> and See how your budget really looks.
  </p>

</div>

    <div style="text-align: center; margin-top: 30px;">
  <p><strong>Like our calculators? Share JazaLoan with others:</strong></p>
  <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
    <a href="https://wa.me/?text=Try%20this%20free%20Kenyan%20loan%20and%20PAYE%20calculator:%20https://jazaloancalculator.co.ke" target="_blank" title="Share on WhatsApp">
      <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/whatsapp.svg" alt="WhatsApp" width="28" height="28" style="vertical-align: middle;" />
    </a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=https://jazaloancalculator.co.ke" target="_blank" title="Share on Facebook">
      <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/facebook.svg" alt="Facebook" width="28" height="28" style="vertical-align: middle;" />
    </a>
    <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://jazaloancalculator.co.ke" target="_blank" title="Share on LinkedIn">
      <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/linkedin.svg" alt="LinkedIn" width="28" height="28" style="vertical-align: middle;" />
    </a>
    <a href="https://twitter.com/intent/tweet?text=Try%20this%20free%20Kenyan%20loan%20and%20PAYE%20calculator&url=https://jazaloancalculator.co.ke" target="_blank" title="Share on X (Twitter)">
      <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/x.svg" alt="X" width="28" height="28" style="vertical-align: middle;" />
    </a>
  </div>
</div>
  </div>
  </section>

<section class="seo-section-light" style="background-color: #ffffff; padding: 50px 20px;">
  <div class="container" style="max-width: 1000px; margin: 0 auto;">
    
    <h2 style="color: #0b5e2b; font-size: 28px; text-align: center; margin-bottom: 25px; animation: fadeInUp 0.5s ease-in-out;">
      Everything You Need to Know About M-Shwari Loans in Kenya (2025 Guide)
    </h2>

    <p style="font-size: 16px; line-height: 1.7; color: #333; animation: fadeInUp 0.6s ease-in-out;">
      M-Shwari is a paperless banking service offered through M-PESA that gives you access to micro-savings and instant mobile loans. The <strong>M-Shwari loan calculator</strong> above allows you to preview deductions, facility fees, excise duty, and total repayment before applying. It’s free, instant, and built specifically for Kenyan borrowers looking for fast, affordable financing.
    </p>

    <div style="margin-top: 30px; animation: fadeInUp 0.7s ease-in-out;">
      <h3 style="color: #0b5e2b;">Frequently Asked Questions About M-Shwari Loans</h3>
      
      <details class="faq-block" style="margin-top: 15px;">
        <summary>How does the M-Shwari loan calculator work?</summary>
        <p>The calculator uses the official 7.5% facility fee plus 15% excise duty on the fee to display the actual disbursed amount and total repayment. This ensures you understand the cost before applying.</p>
      </details>

      <details class="faq-block">
        <summary>What is the interest rate for M-Shwari loans in 2025?</summary>
        <p>M-Shwari charges a 7.5% facility fee per 30-day loan term, plus a 15% excise duty on that fee. This is equivalent to a higher annualized rate, so always calculate the real APR before borrowing.</p>
      </details>

      <details class="faq-block">
        <summary>Is the M-Shwari loan calculator free to use?</summary>
        <p>Yes. It’s 100% free, requires no login or signup, and works instantly on mobile and desktop.</p>
      </details>

      <details class="faq-block">
        <summary>What are the requirements to qualify for an M-Shwari loan?</summary>
        <p>You must be an active M-PESA user with a Safaricom SIM registered in your name, have a good repayment history, and meet Safaricom’s credit scoring criteria.</p>
      </details>

      <details class="faq-block">
        <summary>How long do I have to repay an M-Shwari loan?</summary>
        <p>M-Shwari loans must be repaid within 30 days. Failure to repay on time may reduce your future loan limit or lead to CRB listing.</p>
      </details>

      <details class="faq-block">
        <summary>How can I increase my M-Shwari loan limit?</summary>
        <p>Increase your limit by saving regularly on M-Shwari, repaying loans on time, increasing your M-PESA transactions, and keeping your Safaricom line active.</p>
      </details>

      <details class="faq-block">
        <summary>Can I use M-Shwari without a smartphone?</summary>
        <p>Yes. You can access M-Shwari loans and savings using any Safaricom line via the M-PESA menu on a basic phone.</p>
      </details>
    </div>

    <div style="margin-top: 35px; animation: fadeInUp 0.8s ease-in-out; text-align:center; background:#f9fafb; padding:20px; border-radius:10px; border:1px solid #e2e8f0;">
      <h3 style="color: #0b5e2b;">Tired of Paying More Than You Should?</h3>
      <p style="margin-bottom: 20px; font-size:16px; color:#4a5568; line-height:1.6;">
        Many Kenyan borrowers overpay on interest without realizing it. Our free calculator reveals the true cost of loans—whether reducing balance or flat rate—so you can make the smartest borrowing decision today.
      </p>
      <a href="index.html" class="cta-button" style="display:inline-block; padding:0.75rem 1.5rem; background-color:#3182ce; color:white; font-size:1rem; font-weight:600; text-decoration:none; border-radius:0.5rem; transition:background-color 0.3s ease;">
        🔍 Try the Reducing/Flat Rate Loan Calculator Now
      </a>
    </div>

  </div>
</section>

<button id="backToTop" title="Back to Top">⬆</button>
  <script>
    const backToTopBtn = document.getElementById("backToTop");
    window.addEventListener("scroll", () => {
      if (document.documentElement.scrollTop > 300 || document.body.scrollTop > 300) {
        backToTopBtn.style.display = "block";
      } else {
        backToTopBtn.style.display = "none";
      }
    });

    backToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
  <footer>
    <div class="footer-content">
      <span><strong>JazaLoan</strong></span>
      <span>|</span>
      <span>© 2025 JazaLoan. All rights reserved.</span>
      <span>|</span>
      <span>📧 <a href="mailto:mburuthus@gmail.com">support@jazaloan.co.ke</a></span>
      <span>|</span>
      <span>💬 <a href="https://wa.me/254742592477" target="_blank">Chat on WhatsApp</a></span>
    </div>
  </footer>

<script>

function formatAmountInput(el) {
  // Remove all non-digit characters
  let raw = el.value.replace(/[^\d]/g, '');

  // Format with commas
  el.value = raw.replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

    function toggleMenu() {
      document.getElementById("mainNav").classList.toggle("show");
    }

function calculateMshwariLoan() {
  const amountStr = document.getElementById("mshwariAmount").value.replace(/,/g, '');
  const amount = parseFloat(amountStr);
  const dateStr = document.getElementById("loanDate").value;

  if (!amount || amount <= 0) {
    alert("Enter a valid loan amount");
    return;
  }

  const FACILITY_RATE = 0.075;  // 7.5%
  const EXCISE_ON_FEE = 0.20;   // 20% of facility fee

  const facilityFee = amount * FACILITY_RATE;
  const exciseDuty = facilityFee * EXCISE_ON_FEE;
  const netDisbursed = amount - exciseDuty; 
  const totalRepayable = amount + facilityFee;

  const dueDate = new Date(dateStr);
  dueDate.setDate(dueDate.getDate() + 30);

  const fmt = (n) => Number(n).toLocaleString("en-KE", { minimumFractionDigits: 2, maximumFractionDigits: 2 });

  document.getElementById("facilityFee").innerText = fmt(facilityFee);
  document.getElementById("exciseDuty").innerText = fmt(exciseDuty);
  document.getElementById("mpesaDeposited").innerText = fmt(netDisbursed);
  document.getElementById("repaymentTotal").innerText = fmt(totalRepayable);
  document.getElementById("dueDate").innerText = dueDate.toDateString();

  const resultsBlock = document.getElementById("mshwariResults");
  resultsBlock.style.display = "block";
  document.getElementById("resetBtn").style.display = "inline-block";
  resultsBlock.classList.add("results-animate");
  document.getElementById("downloadBtn").style.display = "inline-block";

  setTimeout(() => {
    resultsBlock.scrollIntoView({ behavior: "smooth", block: "center" });
  }, 200);

  const explanation = `The facility fee (7.5% of the loan) is Ksh ${fmt(facilityFee)}. ` +
    `Excise duty is 20% of the facility fee (Ksh ${fmt(exciseDuty)}) and is deducted at disbursement. ` +
    `You will receive Ksh ${fmt(netDisbursed)} in your M-PESA account. ` +
    `You must repay the principal plus the facility fee, a total of Ksh ${fmt(totalRepayable)}, within 30 days.`;

  const explEl = document.getElementById("mshwariExplanation");
  if (explEl) explEl.innerText = explanation;
}


  // Mobile nav toggle
 const hamburger = document.getElementById("hamburger");
const mobileNav = document.getElementById("mobileNav");
const overlay = document.getElementById("overlay");

const toggleMobileMenu = () => {
  hamburger.classList.toggle("active");
  mobileNav.classList.toggle("show");
  overlay.classList.toggle("show");
};

hamburger.addEventListener("click", toggleMobileMenu);
overlay.addEventListener("click", toggleMobileMenu);


function resetMshwariCalculator() {
  document.getElementById("mshwariAmount").value = "";
  document.getElementById("loanDate").value = "";
  document.getElementById("mshwariResults").style.display = "none";
  document.getElementById("resetBtn").style.display = "none";
  document.getElementById("downloadBtn").style.display = "none";
  // Scroll back to input section
  document.getElementById("mshwari").scrollIntoView({ behavior: "smooth", block: "start" });
}

function downloadMshwariResults() {
  if (typeof window.jspdf === "undefined") {
    alert("PDF generation library not loaded. Please check jsPDF script.");
    return;
  }

  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  const safeNum = (value) => {
    const cleaned = String(value || "").replace(/,/g, "").trim();
    return isNaN(cleaned) || cleaned === "" ? 0 : Number(cleaned);
  };

  // --- Header ---
  doc.setFont("helvetica", "bold");
  doc.setFontSize(18);
  doc.text("M-Shwari Loan Repayment Report", 14, 20);

  doc.setFont("helvetica", "normal");
  doc.setFontSize(11);
  doc.setTextColor(100);
  doc.text(`Generated on: ${new Date().toLocaleString()}`, 14, 28);

  // --- Get Data Safely ---
  const amount = safeNum(document.getElementById("mshwariAmount").value);
  const date = document.getElementById("loanDate").value || "-";
  const fee = safeNum(document.getElementById("facilityFee").innerText);
  const duty = safeNum(document.getElementById("exciseDuty").innerText);
  const deposited = safeNum(document.getElementById("mpesaDeposited").innerText);
  const total = safeNum(document.getElementById("repaymentTotal").innerText);
  const due = document.getElementById("dueDate").innerText || "-";

  // --- Table ---
  const tableData = [
    ["Loan Amount", `Ksh ${amount.toLocaleString()}`],
    ["Loan Start Date", date],
    ["M-PESA Deposited", `Ksh ${deposited.toLocaleString()}`],
    ["Facility Fee (7.5%)", `Ksh ${fee.toLocaleString()}`],
    ["Excise Duty on Fee (15%)", `Ksh ${duty.toLocaleString()}`],
    ["Total Repayment Amount", `Ksh ${total.toLocaleString()}`],
    ["Due Date (30 Days)", due]
  ];

  doc.autoTable({
    startY: 38,
    head: [["Description", "Amount"]],
    body: tableData,
    styles: { fontSize: 11, cellPadding: 4 },
    headStyles: { fillColor: [3, 69, 123], textColor: 255, fontStyle: "bold" },
    alternateRowStyles: { fillColor: [240, 240, 240] }
  });

 // --- Summary Section ---
const summaryY = doc.lastAutoTable.finalY + 12;
doc.setFont("helvetica", "bold");
doc.setFontSize(13);
doc.setTextColor(40);
doc.text("Loan Summary", 14, summaryY);

doc.setFont("helvetica", "normal");
doc.setFontSize(11);
doc.setTextColor(60);

const summaryPoints = [
  `Loan Amount: Ksh ${amount.toLocaleString()}`,
  `Loan Start Date: ${date}`,
  `Facility Fee: 7.5% of loan amount (Ksh ${fee.toLocaleString()})`,
  `Excise Duty: 15% of facility fee (Ksh ${duty.toLocaleString()})`,
  `Total Repayment: Ksh ${total.toLocaleString()}`,
  `Due Date: ${due}`,
  `Note: Ensure timely repayment to avoid penalties or negative credit reporting.`
];

// Bulleted style
let bulletY = summaryY + 8;
summaryPoints.forEach(point => {
  doc.circle(12, bulletY - 2.5, 1, "F"); // small bullet
  doc.text(point, 16, bulletY);
  bulletY += 7;
});


  // --- Footer ---
  const pageHeight = doc.internal.pageSize.height;
  doc.setFontSize(9);
  doc.setTextColor(150);
  doc.text("Generated by JazaLoan.co.ke – For informational purposes only", 14, pageHeight - 10);
  doc.text(`Page 1 of 1`, doc.internal.pageSize.width - 30, pageHeight - 10);

  doc.save("M-Shwari_Loan_Report.pdf");
}

</script>

<script>
document.querySelectorAll("details.faq-block").forEach((detail) => {
  detail.addEventListener("toggle", function () {
    if (this.open) {
      // Close all others
      document.querySelectorAll("details.faq-block").forEach((el) => {
        if (el !== this) el.removeAttribute("open");
      });

      // Scroll this into view
      setTimeout(() => {
        this.scrollIntoView({ behavior: "smooth", block: "start" });
      }, 200);
    }
  });
});
document.addEventListener("DOMContentLoaded", () => {
  // Shrink header on scroll
  window.addEventListener("scroll", () => {
    const header = document.querySelector(".site-header");
    if (window.scrollY > 50) {
      header.classList.add("shrink");
    } else {
      header.classList.remove("shrink");
    }
  });
});

</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How does the M‑Shwari loan calculator work?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The calculator uses the official 7.5% facility fee and 15% excise duty on that fee to show your M‑PESA disbursement and repayment total. It updates in real-time when you enter a loan amount and application date."
      }
    },
    {
      "@type": "Question",
      "name": "Is the M‑Shwari loan calculator free to use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. The M‑Shwari Loan Calculator is 100% free to use. You don't need to sign up or create an account."
      }
    },
    {
      "@type": "Question",
      "name": "Do I qualify for an M‑Shwari loan?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "To qualify, you must be an active M‑PESA user with a good transaction history. Safaricom uses credit scoring to determine your loan limit."
      }
    },
    {
      "@type": "Question",
      "name": "What is the facility fee on M‑Shwari loans?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "M‑Shwari charges a 7.5% facility fee on the loan amount. An additional 15% excise duty is charged on the fee. The calculator includes both in your final repayment estimate."
      }
    },
    {
      "@type": "Question",
      "name": "How long do I have to repay a M‑Shwari loan?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "You must repay the full amount within 30 days from the date of borrowing. The calculator shows your expected due date."
      }
    },
    {
      "@type": "Question",
      "name": "Can I compare M‑Shwari with other mobile loans?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. Visit our Compare Loans section to view mobile loan alternatives like Tala, Zenka, or KCB M-PESA and see their costs side-by-side with M‑Shwari."
      }
    }
  ]
}
</script>
<script>
  window.addEventListener('load', () => {
    document.body.classList.add('fade-in');
  });
</script>
</body>
</html>




